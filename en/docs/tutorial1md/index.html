<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/haystack-io/styles.da87acb516b5db55a592.css">a{text-decoration:none;color:#fff}a.primary{display:flex;align-items:center;justify-content:center;padding:10px 14px;border:2px solid #fff;font-weight:700;letter-spacing:2px;height:48px;box-sizing:border-box;min-width:160px;text-align:center}a.primary-color{background:#fff}a.primary-color,a.white-color{color:#000;border:2px solid #000}a.white-color:hover{color:#fff;background:#fff}.mini-menu-control{position:fixed;bottom:80px;left:20px;width:40px;height:40px;line-height:40px;text-align:center;border-radius:50%;background:#fff;color:#000;z-index:1000;box-shadow:0 2px 5px 0 rgba(0,0,0,.2)}.menu-container{position:fixed;box-sizing:border-box;color:#fafafa;overflow:auto;line-height:1.2rem;background:#f1f1f1}.menu-container *{transition:all .2s}.menu-container .select-wrapper{padding-left:1rem}.menu-container .text{opacity:.75}.menu-container .text:hover{opacity:1}.menu-container .menu-top-level{margin-bottom:.1rem;box-sizing:border-box;padding-bottom:1rem}.menu-container .menu-top-level .text{color:#000;font-size:16px;font-weight:700;letter-spacing:0;line-height:20px}.menu-container .menu-top-level>.menu_name-wrapper{padding:0 1rem .25rem;text-transform:uppercase}.menu-container .menu-top-level .menu_name-wrapper{font-size:16px}.menu-container .menu-child{margin:.25rem 0;color:var(--color-primary);padding:0 1rem}.menu-container .menu-child .text{margin-left:.5rem;font-weight:400}.menu-container .menu-child.active{background-color:rgba(79,196,249,.25)}.menu-container .menu-child.active .text{opacity:1}.menu-container .menu-child .menu_name-wrapper .text{font-size:.8rem}.menu-container .menu-last-level{padding-left:1rem}.menu-container .menu-last-level .text{color:#000;font-size:12px;letter-spacing:0;line-height:16px;font-weight:400}.menu-container .menu-last-level.active{background-color:rgba(79,196,249,.25)}.menu-container .menu-last-level.active .menu_name-wrapper .text{font-weight:700}.menu-container .menu-last-level .menu_name-wrapper{margin-bottom:0!important;letter-spacing:0;font-size:14px}.menu-container .menu-child-wrapper{max-height:0;overflow:hidden;transition:max-height .6s}.menu-container .menu-child-wrapper.open{max-height:1000px;transition:max-height .6s}.menu-container .menu-child-wrapper .menu_name-wrapper{padding:.2rem 0;font-size:1rem}.menu-container .menu_name-wrapper{display:flex;justify-content:space-between;align-items:center;margin-left:.3rem}.menu-container .outlink{display:flex;align-items:center}.menu-container .fas{position:relative;margin-right:6px;font-size:.7rem;cursor:pointer}.menu-container .close{position:absolute;top:20px;right:20px;font-size:1rem;color:#000}.menu-container .arrow{transform:rotate(180deg);color:#000}.menu-container .arrow.top{transform:rotate(0)}.menu-container .arrow:hover{opacity:1}.full-header-wrapper{width:100%;position:fixed;top:0;left:0;right:0;box-shadow:0 1px 2px 0 rgba(60,64,67,.3),0 2px 6px 2px rgba(60,64,67,.15)}.full-header-wrapper,.header-wrapper{background:#fff;height:60px;z-index:100}.header-wrapper{display:flex;justify-content:space-between;align-items:center;padding:10px 0;box-sizing:border-box;max-width:1600px;margin:0 auto;text-transform:uppercase}.header-wrapper .logo-wrapper{display:flex;align-items:center;padding-left:20px}.header-wrapper .logo-wrapper img{height:3rem}.header-wrapper .logo-wrapper .lfai{height:1rem;margin-left:1rem}.header-wrapper .language{position:relative;display:inline-block;margin-left:16px;cursor:pointer}.header-wrapper .language .language-list{background-color:#fff;border-radius:10px;position:absolute;top:150%;right:-20px;box-shadow:0 2px 4px rgba(0,0,0,.1)}.header-wrapper .language .language-list a{display:block;margin:10px 0;padding:10px;color:#333}.header-wrapper .language .language-list a.active{background-color:#3f9cd1;color:#fff}.header-wrapper .language:before{position:absolute;width:40px;height:40px;top:-10px;left:0;content:""}.header-wrapper .language:after{display:block;content:"";border:6px solid transparent;border-top-color:#333;position:absolute;left:26px;top:4px}.header-wrapper .right{display:flex;justify-content:space-between;align-items:center;padding-right:30px}.header-wrapper .right .link{color:#000;font-weight:400;margin:0 1rem}.mobile-nav{position:fixed;top:0;left:0;right:0;font-size:14px;z-index:100;transition:all .1s linear;height:0;opacity:0;overflow:hidden;box-sizing:border-box}.mobile-nav a{display:block;background:#fff;color:var(--color-primary);height:48px;line-height:48px;text-align:center;border-bottom:1px solid #eee}.mobile-nav a:hover{background-color:var(--color-highlight);color:#fff}.mobile-nav a:last-child{margin-bottom:0}.mobile-nav.open{top:60px;height:auto;opacity:1}.gradient{font-weight:700;background:-webkit-linear-gradient(30deg,#eee,rgba(79,196,249,.9));color:rgba(79,196,249,.9);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font:112.5%/1.45em Roboto,georgia,serif,sans-serif;box-sizing:border-box;overflow-y:scroll}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:rgba(0,0,0,.8);font-family:Roboto;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help;text-decoration:none}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{padding:0;margin:0 0 1.45rem;color:inherit;font-family:Roboto,-apple-system,BlinkMacSystemFont,Segoe UI,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2.25rem;line-height:1.1}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none;max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding:0}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:Roboto,monospace;font-size:1em}figure{padding:0;margin:0 0 1.45rem}hr{box-sizing:content-box;overflow:visible;padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;padding:0;margin:0 0 1.45rem}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}*,:after,:before{box-sizing:inherit}h2{font-family:-apple-system,Roboto,BlinkMacSystemFont,Segoe UI,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1.62671rem}h2,h3{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h3{font-family:-apple-system,Roboto BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:1.38316rem}h4{font-size:1rem}h4,h5{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,Roboto,BlinkMacSystemFont,Segoe UI,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h5{font-size:.85028rem}h6{color:inherit;font-family:-apple-system,Roboto,BlinkMacSystemFont,Segoe UI,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:.78405rem;line-height:1.1}h6,hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,p{padding:0}dd,dl,p,pre{margin:0 0 1.45rem}pre{font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{padding:0;margin:0 0 1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}blockquote{padding:0;margin:0 1.45rem 1.45rem}address,form,iframe,noscript{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.github-btn{font:700 11px/14px Helvetica Neue,Helvetica,Arial,sans-serif;height:20px;overflow:hidden}.gh-btn,.gh-count,.gh-ico{float:left}.gh-btn,.gh-count{padding:2px 5px 2px 4px;color:#333;text-decoration:none;white-space:nowrap;cursor:pointer;border-radius:3px}.gh-btn{background-color:#eee;background-image:linear-gradient(180deg,#fcfcfc 0,#eee);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#fcfcfc",endColorstr="#eeeeee",GradientType=0);background-repeat:no-repeat;border:1px solid #d5d5d5}.gh-btn:focus,.gh-btn:hover{text-decoration:none;background-color:#ddd;background-image:linear-gradient(180deg,#eee 0,#ddd);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#eeeeee",endColorstr="#dddddd",GradientType=0);border-color:#ccc}.gh-btn:active{background-image:none;background-color:#dcdcdc;border-color:#b5b5b5;box-shadow:inset 0 2px 4px rgba(0,0,0,.15)}.gh-ico{width:14px;height:14px;margin-right:4px;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMTIgMTIgNDAgNDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMTIgMTIgNDAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGZpbGw9IiMzMzMzMzMiIGQ9Ik0zMiAxMy40Yy0xMC41IDAtMTkgOC41LTE5IDE5YzAgOC40IDUuNSAxNS41IDEzIDE4YzEgMC4yIDEuMy0wLjQgMS4zLTAuOWMwLTAuNSAwLTEuNyAwLTMuMiBjLTUuMyAxLjEtNi40LTIuNi02LjQtMi42QzIwIDQxLjYgMTguOCA0MSAxOC44IDQxYy0xLjctMS4yIDAuMS0xLjEgMC4xLTEuMWMxLjkgMC4xIDIuOSAyIDIuOSAyYzEuNyAyLjkgNC41IDIuMSA1LjUgMS42IGMwLjItMS4yIDAuNy0yLjEgMS4yLTIuNmMtNC4yLTAuNS04LjctMi4xLTguNy05LjRjMC0yLjEgMC43LTMuNyAyLTUuMWMtMC4yLTAuNS0wLjgtMi40IDAuMi01YzAgMCAxLjYtMC41IDUuMiAyIGMxLjUtMC40IDMuMS0wLjcgNC44LTAuN2MxLjYgMCAzLjMgMC4yIDQuNyAwLjdjMy42LTIuNCA1LjItMiA1LjItMmMxIDIuNiAwLjQgNC42IDAuMiA1YzEuMiAxLjMgMiAzIDIgNS4xYzAgNy4zLTQuNSA4LjktOC43IDkuNCBjMC43IDAuNiAxLjMgMS43IDEuMyAzLjVjMCAyLjYgMCA0LjYgMCA1LjJjMCAwLjUgMC40IDEuMSAxLjMgMC45YzcuNS0yLjYgMTMtOS43IDEzLTE4LjFDNTEgMjEuOSA0Mi41IDEzLjQgMzIgMTMuNHoiLz48L3N2Zz4=");background-size:100% 100%;background-repeat:no-repeat}.gh-count{position:relative;display:none;margin-left:4px;background-color:#fafafa;border:1px solid #d4d4d4}.gh-count:focus,.gh-count:hover{color:#4183c4}.gh-count:after,.gh-count:before{content:"";position:absolute;display:inline-block;width:0;height:0;border-color:transparent;border-style:solid}.gh-count:before{top:50%;left:-3px;margin-top:-4px;border-width:4px 4px 4px 0;border-right-color:#fafafa}.gh-count:after{top:50%;left:-4px;z-index:-1;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#d4d4d4}.github-btn-large{height:30px}.github-btn-large .gh-btn,.github-btn-large .gh-count{padding:3px 10px 3px 8px;font-size:16px;line-height:22px;border-radius:4px}.github-btn-large .gh-ico{width:20px;height:20px}.github-btn-large .gh-count{margin-left:6px}.github-btn-large .gh-count:before{left:-5px;margin-top:-6px;border-width:6px 6px 6px 0}.github-btn-large .gh-count:after{left:-6px;margin-top:-7px;border-width:7px 7px 7px 0}.home-wrapper h1,.home-wrapper h2,.home-wrapper h3,.home-wrapper h4,.home-wrapper h5,.home-wrapper h6{margin-bottom:2rem;font-weight:400;color:#fff}.home-wrapper h1{font-size:3rem;line-height:2.5rem;margin-bottom:0;color:#000}.home-wrapper h2{font-size:1.75rem;margin:0 2rem;color:#000}.home-wrapper h3{font-size:3rem;color:#000}.home-wrapper .content p,.home-wrapper p.content{font-size:15px;color:#000;opacity:.75;line-height:25px}.home-wrapper .anchor{position:relative;top:-80px}.home-wrapper .btn-wrapper{max-width:90%;margin:0 auto;display:flex;align-items:center}.home-wrapper .primary{font-size:.8rem;padding:1rem 1.5rem;margin:2rem 1rem 2rem 0}.home-wrapper .section1{display:flex;flex-direction:column;justify-content:center;align-items:center;height:12rem;background-position:bottom;background-size:cover;margin-top:150px}.home-wrapper .section1 .githubicon{margin-bottom:3rem}.home-wrapper .section1 h3{margin-top:8px;font-size:16px;width:90%;max-width:800px;line-height:24px;text-align:center}.home-wrapper .section2{display:flex;flex-direction:column;justify-content:center;align-items:center;height:12rem;background:url(/haystack-io/static/sketched_concepts_white-df316a6805b89f3919db67269e651abf.png) no-repeat;background-position:bottom;background-size:cover;margin-top:150px}.home-wrapper .section3{margin-top:6rem;display:flex;justify-content:center}.home-wrapper .section3 h2{text-align:center;margin-bottom:62px}.home-wrapper .section3 .feature-wrapper{display:flex;justify-content:space-around;flex-wrap:wrap;max-width:1200px;margin:0 auto}.home-wrapper .section3 .feature-item{min-width:200px;max-width:320px;margin-top:30px}.home-wrapper .section3 .feature-item .title-wrapper{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.home-wrapper .section3 .feature-item .title-wrapper img{width:28px;margin-right:1rem}.home-wrapper .section3 .feature-item .title-wrapper .title{flex:1 1;font-weight:700;font-size:16px;line-height:1.6}.home-wrapper .section3 .feature-item a{color:#4eb8f0}.home-wrapper .section4{text-align:center}.home-wrapper .section4 .with-icon{display:flex;align-items:center}.home-wrapper .section4 .with-icon img{margin-right:.5rem}.home-wrapper .section4 h2{text-align:center;color:#000;font-size:2rem;margin-bottom:1rem}.home-wrapper .section4 p{font-size:1rem;line-height:1.6rem}.home-wrapper .section4 .btn-wrapper{display:flex;justify-content:center;margin-top:1rem}.home-wrapper .section5{text-align:center}.home-wrapper .section5 img{width:186px;margin-bottom:1.2rem}.home-wrapper .section5 .desc,.home-wrapper .section5 h2{text-align:center}.home-wrapper .section5 .desc{margin-top:20px;line-height:25px}.home-wrapper .section5 p{font-size:1rem}.home-wrapper .section6 h2{font-size:32px;margin-bottom:62px;color:#000;text-align:center}.home-wrapper .section6 h2 a{color:#000}.home-wrapper .section6 ul{display:flex;flex-wrap:wrap;max-width:1200px;margin:0 auto;justify-content:center}.home-wrapper .section6 ul li{display:flex;flex-basis:18%;justify-content:center;margin-bottom:50px;height:93px}.home-wrapper .section6 ul li img{width:130px;-o-object-fit:scale-down;object-fit:scale-down}.home-wrapper .section7{text-align:center;font-size:16px}.home-wrapper .section7 h2{color:#000;margin-bottom:62px;font-size:2rem}.home-wrapper .section7 h3{color:#000;font-size:1.5rem}.home-wrapper .section7 p{width:90%;margin:0 auto;line-height:1.5}.home-wrapper .section7 ul{display:flex;justify-content:space-around;max-width:1200px;margin:3rem auto 6rem;flex-wrap:wrap}.home-wrapper .section7 ul li{margin:1rem}.home-wrapper .section7 ul li p{margin:1rem 0 0;text-transform:capitalize}.home-wrapper .section7 .column{display:flex;flex-direction:column;flex-basis:20%;flex-shrink:0;flex-wrap:wrap;min-height:100px;text-align:left}.home-wrapper .section7 .column-desc{flex-grow:1;margin:0 0 3rem}.home-wrapper .section7 .column-link{display:block;margin-bottom:16px;color:#4eb8f0}.home-wrapper .section7 .column-img{width:24px;height:24px}.home-wrapper .section7 .column-img-wrapper{display:flex;flex-wrap:wrap}.home-wrapper .section7 .column-img-container{margin:0 1rem 1rem 0}.home-wrapper .section7 .wechat{position:relative}.home-wrapper .section7 .wechat .wechatqr{position:absolute;display:none;top:-400%;left:-350%}.home-wrapper .section7 .wechat a{display:inline-block}.home-wrapper .section7 .wechat:hover .wechatqr{display:flex;justify-content:space-between}.home-wrapper .sdk-tools h2{color:#000;text-align:center;margin-bottom:62px}.home-wrapper .sdk-tools img{width:80px}.home-wrapper .sdk-tools ul{display:flex;width:90%;max-width:1200px;margin:0 auto;align-items:center;justify-content:space-between;flex-wrap:wrap}.home-wrapper .sdk-tools ul li{text-align:center}.home-wrapper .sdk-tools ul li p{margin-top:1rem}.home-wrapper .sdk-tools,.home-wrapper .section2,.home-wrapper .section4,.home-wrapper .section5,.home-wrapper .section6,.home-wrapper .section7{margin-top:10rem}.footer-wrapper{background:#fff;color:#60606f;padding:22px}.footer-wrapper .copy-right{text-align:center}.footer-wrapper .copy-right span{font-size:14px}.footer-wrapper .link{color:#60606f}html{height:100%}body,h1,h2,h3,h4,h5,h6,li,p,ul{margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-weight:100}#___gatsby,#gatsby-focus-wrapper{height:100%}body{font-size:15px;background-color:#fafafa!important;color:#434548}::selection{background-color:#4fc4f9;color:#fff}a.btn{border-radius:4px;border:solid #000;color:#000!important;font-weight:700;display:block;padding:10px;margin-bottom:10px;max-width:180px;box-shadow:0 1px 0 rgba(27,31,35,.1),inset 0 1px 0 hsla(0,0%,100%,.03)}a.btn i{margin-right:8px}a.btn:hover{color:#000!important;text-decoration:none}.doc-wrapper{position:relative;display:flex;max-width:1600px;margin:0 auto;background-color:#fff;min-height:100vh;padding-top:60px}.doc-wrapper .menu-container{top:60px;padding-top:20px;bottom:0;width:250px;overflow:auto}.doc-wrapper .inner-container{margin-left:250px;max-width:63.67%;min-width:60%;overflow:hidden}.doc-wrapper .inner-container.fullwidth{max-width:80%;min-width:80%}.doc-wrapper .inner-container iframe{position:absolute;top:0}.doc-wrapper .button-container{margin-top:50px}.doc-wrapper .anchor-wrapper{position:relative;font-size:14px;margin-top:65px;padding-right:10px;width:33.3%}.doc-wrapper .anchor-wrapper section{position:-webkit-sticky;position:sticky;top:160px;left:0;max-width:90%;overflow:hidden}.doc-wrapper .anchor-wrapper .event{margin-top:20px}.doc-wrapper .anchor-wrapper .event h4{color:var(--color-highlight)!important;font-weight:700}.doc-wrapper .anchor-wrapper .event img{display:block;border:1px solid #fff}.doc-wrapper .anchor-wrapper .event img:hover{border:1px solid var(--color-highlight)}.doc-wrapper .anchor-wrapper .parent-item{padding-left:10px;padding-bottom:5px;border-left:4px solid #eee}.doc-wrapper .anchor-wrapper .item .child-item{margin-left:8px;padding-top:3px;padding-bottom:3px}.doc-wrapper .anchor-wrapper a{display:block;white-space:nowrap;overflow-x:hidden;line-height:21px;text-overflow:ellipsis;color:#60606f}.doc-wrapper .anchor-wrapper a.active,.doc-wrapper .anchor-wrapper a:hover{color:#33b6f2}.doc-wrapper .footer-wrapper{margin-bottom:0}.not-found{background:#fff;height:100%}.doc-fixed-header{position:fixed;top:0;left:0;right:0;z-index:1000}.doc-post-content p{position:relative;z-index:2}.doc-post{position:relative}.button-to-top{position:fixed;right:15%;bottom:80px;display:flex;justify-content:center;align-items:center;width:40px;height:40px;border-radius:50%;box-shadow:0 2px 5px 0 rgba(0,0,0,.2);background-color:#fff;cursor:pointer;z-index:1000}.button-to-top :hover{color:var(--color-highlight)}.hljs{display:block;overflow-x:auto;padding:.5em;color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}:root{--color-primary:#202124;--color-primarydark:#000;--color-highlight:#33b6f2;--color-secondary:#f8b108;--color-teriary:#69e0e5;--color-darkgray:#28292e;--color-gray:#999;--color-lightgray:#b0b0b9;--color-state-hover:hsla(0,0%,100%,0.15)}.doc-post-container{padding:4rem 2rem;background:#fff;min-height:80vh;overflow:hidden;color:var(--color-primary)}.doc-post-container .tab-wrapper{font-size:0}.doc-post-container .tab-wrapper a{display:inline-block;padding:10px;border:1px solid var(--color-highlight);color:var(--color-highlight);margin-right:.75rem;border-radius:4px;font-size:16px;box-shadow:0 1px 0 rgba(27,31,35,.1),inset 0 1px 0 hsla(0,0%,100%,.03)}.doc-post-container .tab-wrapper a.active,.doc-post-container .tab-wrapper a:hover{background:var(--color-highlight);border:1px solid var(--color-highlight);color:#fff}.doc-post-container .tab-wrapper a:hover{text-decoration:none}.doc-post-container .filter{margin-bottom:.75rem;border-bottom:2px solid #eee;display:flex;flex-direction:row;height:38px}.doc-post-container .filter a{display:block;padding:10px;min-width:100px;border-bottom:0 solid #ccc;color:#666;font-size:16px;height:36px;margin-bottom:-2px;position:relative;box-shadow:0 1px 0 rgba(27,31,35,.1),inset 0 1px 0 hsla(0,0%,100%,.03)}.doc-post-container .filter a:before{background:#e1e2e6;bottom:0;content:"";height:3px;position:absolute;transition:none;width:0;left:50%;right:0}.doc-post-container .filter a.active{font-weight:700;color:var(--color-highlight);border-bottom:2px solid var(--color-highlight)}.doc-post-container .filter a:hover{text-decoration:none}.doc-post-container .filter a:hover:not(.active){color:var(--color-highlight);text-decoration:none}.doc-post-container .filter a:hover:not(.active):after,.doc-post-container .filter a:hover:not(.active):before{transition:all .2s;width:100%}.doc-post-container .filter a:hover:not(.active):before{left:0}.doc-post-container div[class*=filter-]{display:none}.doc-post-container div[class*=filter-].active{display:block}.doc-post-container .tip{background-color:rgba(79,196,249,.25);padding:4px 8px;margin:0 4px;cursor:default}.doc-post-container .alert{padding:1rem;border-radius:0 6px 6px 0;background-repeat:no-repeat;background-size:4%;background-position:10px;line-height:2;font-size:.8rem;margin:2rem 0}.doc-post-container .alert details,.doc-post-container .alert details summary{font-size:.8rem}.doc-post-container .alert:before{display:block;font-size:1rem;font-weight:700;color:#3f9cd1}.doc-post-container .alert.info{background-color:#f5f5f5;border-left:4px solid grey}.doc-post-container .alert.info:before{content:"Info:"}[lang=cn] .doc-post-container .alert.info:before{content:"\4FE1\606F\FF1A"}.doc-post-container .alert.note{background-color:#e8f5fd;border-left:4px solid #3f9cd1}.doc-post-container .alert.note:before{content:"Note:"}[lang=cn] .doc-post-container .alert.note:before{content:"\6CE8\610F\FF1A"}.doc-post-container .alert.warning{background-color:#fdf4dc;border-left:4px solid #ff9800}.doc-post-container .alert.warning:before{color:#ff9800;content:"Warning:"}[lang=cn] .doc-post-container .alert.warning:before{content:"\8B66\544A\FF1A"}.doc-post-container .query-button{border:none;outline:none;color:#fff;background-color:transparent;text-decoration:underline;cursor:pointer}.doc-post-container .query-button:active{outline:none}.doc-post-container .query-button-panel{display:flex;justify-content:flex-end;border-top:1px solid #535966;border-radius:0 0 3px 3px;padding:8px 16px 8px 0;background-color:#343741}.doc-post-container .query-button-code{margin-bottom:0;border-radius:3px 3px 0 0}.doc-post-container .md-tooltip{line-height:1.8;max-width:800px;background-color:#fff;color:#333;font-size:14px;box-shadow:0 5px 20px 0 rgba(0,0,0,.3);padding:1.5rem;opacity:1}.doc-post-container article,.doc-post-container aside,.doc-post-container details,.doc-post-container figcaption,.doc-post-container figure,.doc-post-container header,.doc-post-container main,.doc-post-container menu,.doc-post-container nav,.doc-post-container section,.doc-post-container summary{display:block}.doc-post-container audio,.doc-post-container canvas,.doc-post-container progress,.doc-post-container video{display:inline-block}.doc-post-container .language-text{color:#fff}.doc-post-container audio:not([controls]){display:none;height:0}.doc-post-container progress{vertical-align:baseline}.doc-post-container [hidden],.doc-post-container template{display:none}.doc-post-container abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.doc-post-container b,.doc-post-container strong{font-weight:bolder}.doc-post-container dfn{font-style:italic}.doc-post-container mark{background-color:#ff0;color:#000}.doc-post-container small{font-size:80%}.doc-post-container sub,.doc-post-container sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.doc-post-container sub{bottom:-.25em}.doc-post-container sup{top:-.5em}.doc-post-container img{border-style:none}.doc-post-container svg:not(:root){overflow:hidden}.doc-post-container code,.doc-post-container kbd,.doc-post-container pre,.doc-post-container samp{font-family:Source Code Pro,monospace;font-size:1em}.doc-post-container code code,.doc-post-container code span,.doc-post-container kbd code,.doc-post-container kbd span,.doc-post-container pre code,.doc-post-container pre span,.doc-post-container samp code,.doc-post-container samp span{font-family:Source Code Pro,monospace}.doc-post-container figure{margin:1em 40px}.doc-post-container hr{box-sizing:content-box;height:0;overflow:visible}.doc-post-container button,.doc-post-container input,.doc-post-container optgroup,.doc-post-container select,.doc-post-container textarea{font:inherit;margin:0}.doc-post-container optgroup{font-weight:700}.doc-post-container button,.doc-post-container input{overflow:visible}.doc-post-container button,.doc-post-container select{text-transform:none}.doc-post-container [type=reset],.doc-post-container [type=submit],.doc-post-container button,.doc-post-container html [type=button]{-webkit-appearance:button}.doc-post-container [type=button]::-moz-focus-inner,.doc-post-container [type=reset]::-moz-focus-inner,.doc-post-container [type=submit]::-moz-focus-inner,.doc-post-container button::-moz-focus-inner{border-style:none;padding:0}.doc-post-container [type=button]:-moz-focusring,.doc-post-container [type=reset]:-moz-focusring,.doc-post-container [type=submit]:-moz-focusring,.doc-post-container button:-moz-focusring{outline:1px dotted ButtonText}.doc-post-container fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.doc-post-container legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}.doc-post-container textarea{overflow:auto}.doc-post-container [type=checkbox],.doc-post-container [type=radio]{box-sizing:border-box;padding:0}.doc-post-container [type=number]::-webkit-inner-spin-button,.doc-post-container [type=number]::-webkit-outer-spin-button{height:auto}.doc-post-container [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.doc-post-container [type=search]::-webkit-search-cancel-button,.doc-post-container [type=search]::-webkit-search-decoration{-webkit-appearance:none}.doc-post-container ::-webkit-input-placeholder{color:inherit;opacity:.54}.doc-post-container ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.doc-post-container html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}.doc-post-container *,.doc-post-container :after,.doc-post-container :before{box-sizing:inherit}.doc-post-container body{color:#fafafa;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}.doc-post-container a{color:#3f9cd1;background-color:transparent;-webkit-text-decoration-skip:objects}.doc-post-container a:active,.doc-post-container a:hover{text-decoration:underline}.doc-post-container a.anchor{fill:#33b6f2}.doc-post-container img{max-width:100%;padding:0;margin:0 0 1.45rem}.doc-post-container h1,.doc-post-container h2,.doc-post-container h3,.doc-post-container h4,.doc-post-container h5,.doc-post-container h6{line-height:1.1;color:var(--color-primary);padding:0;margin:0;font-weight:700}.doc-post-container h1{margin:0 0 2rem;font-size:2rem;letter-spacing:.1rem;text-rendering:optimizeLegibility}.doc-post-container h2{color:var(--color-primary);font-size:1.5rem;letter-spacing:.03rem;margin:4rem 0 1rem;text-rendering:optimizeLegibility}.doc-post-container h3{font-weight:700;font-size:1.25rem}.doc-post-container h3,.doc-post-container h4{margin:3rem 0 1rem;text-rendering:optimizeLegibility}.doc-post-container h5{font-size:1rem}.doc-post-container h5,.doc-post-container h6{margin-bottom:1.45rem;text-rendering:optimizeLegibility}.doc-post-container h6{font-size:.8rem}.doc-post-container hgroup{padding:0;margin:0 0 1.45rem}.doc-post-container ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none;list-style:disc}.doc-post-container ol{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none;list-style:decimal}.doc-post-container dd,.doc-post-container dl,.doc-post-container p{padding:0;margin:0 0 1.45rem}.doc-post-container p:lang(en){line-height:1.5}.doc-post-container p:lang(cn){line-height:1.8}.doc-post-container img{background-color:#000}.doc-post-container figure{padding:0;margin:0 0 1.45rem}.doc-post-container pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:#f3f3f3;border-radius:3px;overflow:auto;word-wrap:normal;padding:.5rem .5rem 1.25rem}.doc-post-container table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}.doc-post-container fieldset,.doc-post-container table{padding:0;margin:0 0 1.45rem}.doc-post-container blockquote{border-left:.2rem solid var(--color-gray);padding:0 .8rem;font-size:.9rem;margin:.8rem 0;color:#333}.doc-post-container blockquote a{color:#3f9cd1}.doc-post-container form{padding:0;margin:0 0 1.45rem}.doc-post-container details{font-size:15px;margin:10px 0;line-height:26px}.doc-post-container details summary{cursor:pointer}.doc-post-container iframe,.doc-post-container noscript{padding:0;margin:0 0 1.45rem}.doc-post-container hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}.doc-post-container address{padding:0;margin:0 0 1.45rem}.doc-post-container dt{font-weight:700}.doc-post-container li{margin-bottom:.725rem}.doc-post-container li:lang(en){line-height:1.5}.doc-post-container li:lang(cn){line-height:1.8}.doc-post-container ol li,.doc-post-container ul li{padding-left:0}.doc-post-container li>ol,.doc-post-container li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}.doc-post-container blockquote :last-child,.doc-post-container li :last-child,.doc-post-container p :last-child{margin-bottom:0}.doc-post-container li>p{margin-bottom:.725rem}.doc-post-container code,.doc-post-container kbd,.doc-post-container samp{font-size:.85rem;line-height:1.45rem}.doc-post-container abbr,.doc-post-container abbr[title],.doc-post-container acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}.doc-post-container abbr[title]{text-decoration:none}.doc-post-container thead{text-align:left;background:#f5f5f5;font-weight:700}.doc-post-container td{background-color:#fafafa}.doc-post-container td,.doc-post-container th{font-size:.8rem;text-align:left;font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px);max-width:370px;border:4px solid #fff}.doc-post-container td:first-child,.doc-post-container th:first-child{width:200px}.doc-post-container code,.doc-post-container tt{background-color:var(--color-state-hover);border-radius:4px;padding:.1rem .4rem}.doc-post-container pre code{background:none;line-height:1.42}.doc-post-container tt:after,.doc-post-container tt:before{letter-spacing:-.4rem;content:" "}.doc-post-container pre code:after,.doc-post-container pre code:before,.doc-post-container pre tt:after,.doc-post-container pre tt:before{content:""}@media only screen and (max-width:480px){.doc-post-container html{font-size:100%}}.doc-post-container span.hljs-meta{-webkit-user-select:none;-ms-user-select:none;user-select:none}.doc-post-container .edit-page-link{position:absolute;top:5px;right:0;padding:.6rem;font-size:.8rem}.doc-post-container .edit-page-link:hover{text-decoration:none}.doc-post-container .table-wrapper{overflow-x:auto}.iframe-container{position:relative;width:calc(100vw - 30px);max-width:calc(100% - 30px)}.iframe-icon{position:absolute;top:30px;left:40px;color:#333;cursor:pointer;z-index:3}.overlay{position:fixed;top:0;right:0;bottom:0;left:0;background-color:hsla(0,0%,100%,.8);z-index:5}.code-wrapper{position:relative;margin:16px 0 8px;min-height:24px}.content{overflow-x:auto}.button-copy{position:absolute;top:-18px;right:0;border:none;border-radius:4px;color:#b7b5bd;background-color:transparent;font-size:1rem;cursor:pointer}.button-copy:active{outline:none}.button-copy-icon{margin-left:4px}.query-wrapper{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#f8f8f8;border:1px solid #ddd;border-radius:10px;padding:32px;z-index:10}.query-label{display:block;margin:.5rem 0;color:#2b4590}.query-input{display:block;width:100%;margin-bottom:.1rem}.query-form{width:30vw;max-width:600px}.query-button{margin-right:16px;padding:8px;border:none;border-radius:4px;background-color:#00a9e5;color:#fff;outline:none}.query-button:hover{cursor:pointer}.query-button:active{outline:none}.query-button-wrapper{margin-top:16px}.query-button-close{position:absolute;top:2px;right:2px;background-color:transparent;border:none;font-size:24px;color:#ccc;outline:none;cursor:pointer}.query-button-close:active{outline:none}.query-button-close:hover{color:#000}</style><meta name="generator" content="Gatsby 2.24.53"/><link rel="sitemap" type="application/xml" href="/haystack-io/sitemap.xml"/><title data-react-helmet="true"></title><link rel="icon" href="/haystack-io/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/haystack-io/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/haystack-io/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/haystack-io/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/haystack-io/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/haystack-io/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/haystack-io/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/haystack-io/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/haystack-io/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/haystack-io/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link as="script" rel="preload" href="/haystack-io/component---src-templates-doc-template-js-cbf58cd1a27b010587ec.js"/><link as="script" rel="preload" href="/haystack-io/styles-89fd2ae28bdf06750a71.js"/><link as="script" rel="preload" href="/haystack-io/app-f17f2969ed33e2a47593.js"/><link as="script" rel="preload" href="/haystack-io/framework-63ec46a3540d83159f28.js"/><link as="script" rel="preload" href="/haystack-io/webpack-runtime-ec49b18cec38bbadc90a.js"/><link as="fetch" rel="preload" href="/haystack-io/page-data/en/docs/tutorial1md/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/haystack-io/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="full-header-wrapper"><header class="header-wrapper"><div class="logo-wrapper"><a class="link" href="/haystack-io/"><img src="https://static.tildacdn.com/tild6530-3133-4463-b033-623266656263/deepsetv2_Kopie.png" alt="deepset Logo"/></a></div><div class="right"><a class="link" href="/haystack-io/en/docs/intromd">Overview</a><a class="link" href="/haystack-io/en/docs/intromd">Quick Start</a><a class="link" href="/haystack-io/en/docs/intromd">Docs</a></div></header></div><main class="doc-wrapper"><section class="menu-container hide"><i class="fas fa-times close"></i></section><div class="mini-menu-control"><i class="fas fa-bars"></i></div><div class="inner-container "><div class="doc-post-container"><div class="doc-post"><div class="doc-post-content"><h1>Task: Question Answering for Game of Thrones</h1>
<p>Question Answering can be used in a variety of use cases. A very common
one: Using it to navigate through complex knowledge bases or long
documents (“search setting”).</p>
<p>A “knowledge base” could for example be your website, an internal wiki
or a collection of financial reports. In this tutorial we will work on a
slightly different domain: “Game of Thrones”.</p>
<p>Let’s see how we can use a bunch of Wikipedia articles to answer a
variety of questions about the marvellous seven kingdoms…</p>
<p><em>Use this</em>
<a href="https://colab.research.google.com/github/deepset-ai/haystack/blob/master/tutorials/Tutorial1_Basic_QA_Pipeline.ipynb">link</a>
<em>to open the notebook in Google Colab.</em></p>
<pre><code># Install the latest release of Haystack in your own environment
#! pip install farm-haystack

# Install the latest master of Haystack and install the version of torch that works with the colab GPUs
!pip install git+https://github.com/deepset-ai/haystack.git
!pip install torch==1.5.1+cu101 torchvision==0.6.1+cu101 -f https://download.pytorch.org/whl/torch_stable.html
</code></pre>
<pre><code>from haystack import Finder
from haystack.indexing.cleaning import clean_wiki_text
from haystack.indexing.utils import convert_files_to_dicts, fetch_archive_from_http
from haystack.reader.farm import FARMReader
from haystack.reader.transformers import TransformersReader
from haystack.utils import print_answers
</code></pre>
<h2>Document Store</h2>
<p>Haystack finds answers to queries within the documents stored in a
<code>DocumentStore</code>. The current implementations of <code>DocumentStore</code>
include <code>ElasticsearchDocumentStore</code>, <code>FAISSDocumentStore</code>,
<code>SQLDocumentStore</code>, and <code>InMemoryDocumentStore</code>.</p>
<p><strong>Here:</strong> We recommended Elasticsearch as it comes preloaded with
features like <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/full-text-queries.html">full-text
queries</a>,
<a href="https://www.elastic.co/elasticon/conf/2016/sf/improved-text-scoring-with-bm25">BM25
retrieval</a>,
and <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.6/dense-vector.html">vector storage for text
embeddings</a>.</p>
<p><strong>Alternatives:</strong> If you are unable to setup an Elasticsearch instance,
then follow the <a href="https://github.com/deepset-ai/haystack/blob/master/tutorials/Tutorial3_Basic_QA_Pipeline_without_Elasticsearch.ipynb">Tutorial
3</a>
for using SQL/InMemory document stores.</p>
<p><strong>Hint</strong>: This tutorial creates a new document store instance with
Wikipedia articles on Game of Thrones. However, you can configure
Haystack to work with your existing document stores.</p>
<h3>Start an Elasticsearch server</h3>
<p>You can start Elasticsearch on your local machine instance using Docker.
If Docker is not readily available in your environment (eg., in Colab
notebooks), then you can manually download and execute Elasticsearch
from source.</p>
<pre><code># Recommended: Start Elasticsearch using Docker
#! docker run -d -p 9200:9200 -e "discovery.type=single-node" elasticsearch:7.6.2
</code></pre>
<pre><code># In Colab / No Docker environments: Start Elasticsearch from source
! wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.6.2-linux-x86_64.tar.gz -q
! tar -xzf elasticsearch-7.6.2-linux-x86_64.tar.gz
! chown -R daemon:daemon elasticsearch-7.6.2

import os
from subprocess import Popen, PIPE, STDOUT
es_server = Popen(['elasticsearch-7.6.2/bin/elasticsearch'],
                   stdout=PIPE, stderr=STDOUT,
                   preexec_fn=lambda: os.setuid(1)  # as daemon
                  )
# wait until ES has started
! sleep 30
</code></pre>
<pre><code># Connect to Elasticsearch

from haystack.database.elasticsearch import ElasticsearchDocumentStore
document_store = ElasticsearchDocumentStore(host="localhost", username="", password="", index="document")
</code></pre>
<h2>Cleaning &#x26; indexing documents</h2>
<p>Haystack provides a customizable cleaning and indexing pipeline for
loading documents into Document Stores.</p>
<p>In this tutorial, we download Wikipedia articles about Game of Thrones,
apply a basic cleaning function, and index them in Elasticsearch.</p>
<pre><code># Let's first fetch some documents that we want to query
# Here: 517 Wikipedia articles for Game of Thrones
doc_dir = "data/article_txt_got"
s3_url = "https://s3.eu-central-1.amazonaws.com/deepset.ai-farm-qa/datasets/documents/wiki_gameofthrones_txt.zip"
fetch_archive_from_http(url=s3_url, output_dir=doc_dir)

# Convert files to dicts
# You can optionally supply a cleaning function that is applied to each doc (e.g. to remove footers)
# It must take a str as input, and return a str.
dicts = convert_files_to_dicts(dir_path=doc_dir, clean_func=clean_wiki_text, split_paragraphs=True)

# We now have a list of dictionaries that we can write to our document store.
# If your texts come from a different source (e.g. a DB), you can of course skip convert_files_to_dicts() and create the dictionaries yourself.
# The default format here is:
# {
#    'text': "&#x3C;DOCUMENT_TEXT_HERE>",
#    'meta': {'name': "&#x3C;DOCUMENT_NAME_HERE>", ...}
#}
# (Optionally: you can also add more key-value-pairs here, that will be indexed as fields in Elasticsearch and
# can be accessed later for filtering or shown in the responses of the Finder)

# Let's have a look at the first 3 entries:
print(dicts[:3])

# Now, let's write the dicts containing documents to our DB.
document_store.write_documents(dicts)
</code></pre>
<h2>Initalize Retriever, Reader, &#x26; Finder</h2>
<h3>Retriever</h3>
<p>Retrievers help narrowing down the scope for the Reader to smaller units
of text where a given question could be answered. They use some simple
but fast algorithm.</p>
<p><strong>Here:</strong> We use Elasticsearch’s default BM25 algorithm</p>
<p><strong>Alternatives:</strong></p>
<ul>
<li>Customize the <code>ElasticsearchRetriever</code>with custom queries
(e.g. boosting) and filters</li>
<li>Use <code>TfidfRetriever</code> in combination with a SQL or InMemory Document
store for simple prototyping and debugging</li>
<li>Use <code>EmbeddingRetriever</code> to find candidate documents based on the
similarity of embeddings (e.g. created via Sentence-BERT)</li>
<li>Use <code>DensePassageRetriever</code> to use different embedding models for
passage and query (see Tutorial 6)</li>
</ul>
<pre><code>from haystack.retriever.sparse import ElasticsearchRetriever
retriever = ElasticsearchRetriever(document_store=document_store)
</code></pre>
<pre><code># Alternative: An in-memory TfidfRetriever based on Pandas dataframes for building quick-prototypes with SQLite document store.

# from haystack.retriever.sparse import TfidfRetriever
# retriever = TfidfRetriever(document_store=document_store)
</code></pre>
<h3>Reader</h3>
<p>A Reader scans the texts returned by retrievers in detail and extracts
the k best answers. They are based on powerful, but slower deep learning
models.</p>
<p>Haystack currently supports Readers based on the frameworks FARM and
Transformers. With both you can either load a local model or one from
Hugging Face’s model hub (<a href="https://huggingface.co/models">https://huggingface.co/models</a>).</p>
<p><strong>Here:</strong> a medium sized RoBERTa QA model using a Reader based on FARM
(<a href="https://huggingface.co/deepset/roberta-base-squad2">https://huggingface.co/deepset/roberta-base-squad2</a>)</p>
<p><strong>Alternatives (Reader):</strong> TransformersReader (leveraging the
<code>pipeline</code> of the Transformers package)</p>
<p><strong>Alternatives (Models):</strong>
e.g. “distilbert-base-uncased-distilled-squad” (fast) or
“deepset/bert-large-uncased-whole-word-masking-squad2” (good accuracy)</p>
<p><strong>Hint:</strong> You can adjust the model to return “no answer possible” with
the no<em>ans</em>boost. Higher values mean the model prefers “no answer
possible”</p>
<h4>FARMReader</h4>
<pre><code># Load a  local model or any of the QA models on
# Hugging Face's model hub (https://huggingface.co/models)

reader = FARMReader(model_name_or_path="deepset/roberta-base-squad2", use_gpu=False)
</code></pre>
<h4>TransformersReader</h4>
<pre><code># Alternative:
# reader = TransformersReader(model="distilbert-base-uncased-distilled-squad", tokenizer="distilbert-base-uncased", use_gpu=-1)
</code></pre>
<h3>Finder</h3>
<p>The Finder sticks together reader and retriever in a pipeline to answer
our actual questions.</p>
<pre><code>finder = Finder(reader, retriever)
</code></pre>
<h2>Voilà! Ask a question!</h2>
<pre><code># You can configure how many candidates the reader and retriever shall return
# The higher top_k_retriever, the better (but also the slower) your answers.
prediction = finder.get_answers(question="Who is the father of Arya Stark?", top_k_retriever=10, top_k_reader=5)
</code></pre>
<pre><code># prediction = finder.get_answers(question="Who created the Dothraki vocabulary?", top_k_reader=5)
# prediction = finder.get_answers(question="Who is the sister of Sansa?", top_k_reader=5)
</code></pre>
<pre><code>print_answers(prediction, details="minimal")
</code></pre></div><div class="__react_component_tooltip t4a199927-96c6-4ac4-9640-97cfa08d9c52 place-top type-dark" data-id="tooltip"><style>
  	.t4a199927-96c6-4ac4-9640-97cfa08d9c52 {
	    color: #fff;
	    background: #222;
	    border: 1px solid transparent;
  	}

  	.t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-top {
        margin-top: -10px;
    }
    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-top::before {
        border-top: 8px solid transparent;
    }
    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-top::after {
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        bottom: -6px;
        left: 50%;
        margin-left: -8px;
        border-top-color: #222;
        border-top-style: solid;
        border-top-width: 6px;
    }

    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-bottom {
        margin-top: 10px;
    }
    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-bottom::before {
        border-bottom: 8px solid transparent;
    }
    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-bottom::after {
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        top: -6px;
        left: 50%;
        margin-left: -8px;
        border-bottom-color: #222;
        border-bottom-style: solid;
        border-bottom-width: 6px;
    }

    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-left {
        margin-left: -10px;
    }
    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-left::before {
        border-left: 8px solid transparent;
    }
    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-left::after {
        border-top: 5px solid transparent;
        border-bottom: 5px solid transparent;
        right: -6px;
        top: 50%;
        margin-top: -4px;
        border-left-color: #222;
        border-left-style: solid;
        border-left-width: 6px;
    }

    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-right {
        margin-left: 10px;
    }
    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-right::before {
        border-right: 8px solid transparent;
    }
    .t4a199927-96c6-4ac4-9640-97cfa08d9c52.place-right::after {
        border-top: 5px solid transparent;
        border-bottom: 5px solid transparent;
        left: -6px;
        top: 50%;
        margin-top: -4px;
        border-right-color: #222;
        border-right-style: solid;
        border-right-width: 6px;
    }
  </style></div><a class="edit-page-link btn" href="https://github.com/deepset-ai/haystack/tree/documentation/docs/_src/tutorials/tutorials/1.rst" target="_blank" rel="noreferrer noopener"><i class="fas fa-edit"></i>Edit</a></div></div><footer class="footer-wrapper" style="background:#fff"><div class="copy-right"><span>© 2020 - <!-- -->2020<!-- --> deepset. All rights reserved.</span></div></footer></div><div class="anchor-wrapper"><section><div class="item parent-item"><a href="#Document-Store" title="Document Store" class="">Document Store</a><div class="item child-item"><a href="#Start-an-Elasticsearch-server" title="Start an Elasticsearch server" class="">Start an Elasticsearch server</a></div></div><div class="item parent-item"><a href="#Cleaning-&amp;-indexing-documents" title="Cleaning &amp; indexing documents" class="">Cleaning &amp; indexing documents</a></div><div class="item parent-item"><a href="#Initalize-Retriever-Reader-&amp;-Finder" title="Initalize Retriever, Reader, &amp; Finder" class="">Initalize Retriever, Reader, &amp; Finder</a><div class="item child-item"><a href="#Retriever" title="Retriever" class="">Retriever</a></div><div class="item child-item"><a href="#Reader" title="Reader" class="">Reader</a></div><div class="item child-item"><a href="#Finder" title="Finder" class="">Finder</a></div></div><div class="item parent-item"><a href="#Voilà!-Ask-a-question!" title="Voilà! Ask a question!" class="">Voilà! Ask a question!</a></div><div class="button-container"><a class="btn" href="http://github.com/deepset-ai/haystack"><i class="fab fa-github" id="btn-star" aria-hidden="true"></i>4000</a><a class="btn" href="https://github.com/deepset-ai/haystack/discussions"><i class="far fa-comments" aria-hidden="true"></i>Github Discussions</a></div></section></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/en/docs/tutorial1md";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-939b6eeea0ccf3d28b32.js"],"app":["/app-f17f2969ed33e2a47593.js"],"component---src-pages-404-js":["/component---src-pages-404-js-6d00771802fd2ca67982.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b03dd47d0669cdd4d0ea.js"],"component---src-pages-using-typescript-tsx":["/component---src-pages-using-typescript-tsx-ccc63956d1d6da3ec2a1.js"],"component---src-templates-doc-template-js":["/component---src-templates-doc-template-js-cbf58cd1a27b010587ec.js"]};/*]]>*/</script><script src="/haystack-io/polyfill-939b6eeea0ccf3d28b32.js" nomodule=""></script><script src="/haystack-io/webpack-runtime-ec49b18cec38bbadc90a.js" async=""></script><script src="/haystack-io/framework-63ec46a3540d83159f28.js" async=""></script><script src="/haystack-io/app-f17f2969ed33e2a47593.js" async=""></script><script src="/haystack-io/styles-89fd2ae28bdf06750a71.js" async=""></script><script src="/haystack-io/component---src-templates-doc-template-js-cbf58cd1a27b010587ec.js" async=""></script></body></html>