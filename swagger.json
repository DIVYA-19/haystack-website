{"info":{"title":"Haystack Hub REST API","version":"1.0","description":"Haystack Hub provides a REST API interface to perform neural search on files.\n\n\n##  Quickstart\n\n  1. Register with Haystack Hub. The sign-up process creates an organization and an admin user.\n  2. A new organization is pre-configured with a `default` Workspace having reasonable configurations.\n  3. Generate a Bearer API token using the login credentials of an admin user with the `/api/v1/auth/token` endpoint.\n  4. Upload files using the `/api/v1/workspaces/default/files` endpoint.\n  5. Ask questions using the `/api/v1/workspaces/default/search` endpoint.\n"},"openapi":"3.0.2","servers":[{"url":"https://haystack-hub.deepset.ai"}],"paths":{"/api/v1/users":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InviteUser"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Invite new users to the organization","tags":["User"]},"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Users"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get all users in the organization","tags":["User"]}},"/api/v1/users/{user_id}":{"get":{"parameters":[{"in":"path","name":"user_id","required":true,"schema":{"title":"User ID","type":"string","example":"141dbaad-3156-4885-a34e-888667f9f6d9"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get details of an user","tags":["User"]},"put":{"parameters":[{"in":"path","name":"user_id","required":true,"schema":{"title":"User ID","type":"string","example":"141dbaad-3156-4885-a34e-888667f9f6d9"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Edit details of an user","tags":["User"]}},"/api/v1/me":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get details of current user","tags":["User"]}},"/api/v1/workspaces/{workspace_name}/retrievers":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Retrievers"}}},"description":"Successful Response"}},"tags":["Configuration"]}},"/api/v1/workspaces/{workspace_name}/readers":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Readers"}}},"description":"Successful Response"}},"tags":["Configuration"]}},"/api/v1/workspaces":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"List all Workspaces","tags":["Workspace"]}},"/api/v1/workspaces/{workspace_name}/search_history":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchHistory"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get history of search queries","tags":["Dashboard"]}},"/api/v1/workspaces/{workspace_name}/search_count":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchCount"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get day-wise count of search queries for the last month","tags":["Dashboard"]}},"/api/v1/workspaces/{workspace_name}/stats":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceStats"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get workspace query statistics","tags":["Dashboard"]}},"/api/v1/workspaces/{workspace_name}":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get a workspace by name","tags":["Workspace"]}},"/api/v1/workspaces/{workspace_name}/config":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceConfig"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get the configuration of a Workspace","tags":["Configuration"]},"patch":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceConfig"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkspaceConfig"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Change the configuration of a Workspace","description":"Configure the settings for a Workspace.\n\nThis endpoints allows to update configs for the reader, retriever, and files. Only the config values supplied in the request body are updated.\n","tags":["Configuration"]}},"/api/v1/workspaces/{workspace_name}/files":{"post":{"description":"This endpoint accepts raw files(pdf/txt) and plain-text strings. For more details, refer to the `file` parameter in the request body.","parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/FileUpload"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Upload files to workspace","tags":["Files"]},"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}},{"in":"query","name":"name","schema":{"type":"string"},"description":"File names to filter for"}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListFiles"}}},"description":"successful response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"List files in Workspace","tags":["Files"]}},"/api/v1/workspaces/{workspace_name}/file-preview":{"post":{"description":"Generate preview of how a file is split in documents.","parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FilePreview"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Preview file before upload","tags":["Files"]}},"/api/v1/workspaces/{workspace_name}/files/{file_id}":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}},{"in":"path","name":"file_id","required":true,"schema":{"title":"File ID","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Download file from Workspace","tags":["Files"]},"delete":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}},{"in":"path","name":"file_id","required":true,"schema":{"title":"File ID","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Delete file from Workspace","tags":["Files"]}},"/api/v1/workspaces/{workspace_name}/files/{file_id}/documents":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}},{"in":"path","name":"file_id","required":true,"schema":{"title":"File ID","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Documents"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get documents for a file","tags":["Files"]}},"/api/v1/workspaces/{workspace_name}/files/{file_id}/metadata":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}},{"in":"path","name":"file_id","required":true,"schema":{"title":"File ID","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetaValue"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get metadata for a file","tags":["Files"]},"put":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}},{"in":"path","name":"file_id","required":true,"schema":{"title":"File ID","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetaValue"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Update metadata for a file","tags":["Files"]}},"/api/v1/workspaces/{workspace_name}/metadata_fields":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Meta"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get meta data fields for a Workspace","tags":["Files"]},"put":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Meta"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Meta"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Update the meta data fields for a Workspace","tags":["Files"]}},"/api/v1/workspaces/{workspace_name}/file_warnings":{"get":{"parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileWarnings"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get warning related to files in the Workspace","tags":["Files"]}},"/api/v1/workspaces/{workspace_name}/search":{"post":{"description":"Search for answers to a list of questions with optional `filters` on files. An endpoint to manage filters is not available at present, reach out to the support for setting up filters.\n","parameters":[{"in":"path","name":"workspace_name","required":true,"schema":{"title":"Workspace Name","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Search"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Answers"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Search answers in Workspace","tags":["Search"]}},"/api/v1/signup":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUp"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Sign up as a new organization","description":"Setup an organization with the new user as an admin. An email confirmation is required before you can access the account.","tags":["User"]}},"/api/v1/change_password":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"old_password":{"type":"string","example":"old_pa$$"},"new_password":{"type":"string","example":"new_pa$$"}}}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Change password","description":"Change password for a logged-in user.","tags":["User"]}},"/api/v1/forgot_password":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string","example":"tim.smith@abc.com"}}}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Forgot the login password","description":"Send an email to the user for password recovery.","tags":["User"]}},"/api/v1/reset_password":{"post":{"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPassword"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Reset the login password","description":"Reset the password based on the password recovery email recieved by user.","tags":["User"]}},"/api/v1/verify_email":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"verification_key":{"type":"string","example":"lKJfdkkj839jh5"}}}}}},"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Reset the login password","description":"Reset the password based on the password recovery email recieved by user.","tags":["User"]}},"/api/v1/auth/token":{"post":{"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/TokenRequest"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"access_token":{"description":"Bearer token for API access","example":"aaa.bbb.ccc","title":"access_token","type":"string"}}}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Create a new API token","tags":["Auth"]}},"/api/v1/auth/blacklist":{"post":{"requestBody":{"content":{"application/json":{"schema":{"properties":{"access_token":{"description":"Bearer token to blacklist","example":"aaa.bbb.ccc","title":"access_token","type":"string"}},"required":["access_token"]}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Blacklist an existing API token","tags":["Auth"]}},"/api/v1/organization":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Organization"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Get details of the user's organization","tags":["Organization"]}}},"tags":[{"name":"User","description":"Sign-up"},{"name":"Organization","description":"Organization details"},{"name":"Auth","description":"Manage API tokens"},{"name":"Files","description":"Manage files"},{"name":"Configuration","description":"Manage Search configuration"},{"name":"Search","description":"Find answers"},{"name":"Workspace","description":"Manage Workspaces"},{"name":"Dashboard","description":"View history & stats"}],"components":{"schemas":{"WorkspaceStats":{"type":"object","properties":{"file_count":{"type":"integer","example":245},"document_count":{"type":"integer","example":2310},"average_response_time":{"type":"integer","example":1.12}}},"SearchCount":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string","format":"date"},"count":{"type":"integer","example":73}}}}}},"SearchHistory":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"request":{"$ref":"#/components/schemas/Search"},"response":{"$ref":"#/components/schemas/AnswersToIndividualQuestion"},"user":{"type":"object","properties":{"id":{"type":"string","example":"7da504ef-d825-4e89-b479-cac538c9df7b"},"name":{"type":"string","example":"Tim Smith"}}},"duration":{"type":"integer","example":2342},"time":{"type":"string","format":"date-time"}}}},"has_more":{"type":"boolean","example":true}}},"Users":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"has_more":{"type":"boolean","example":true}}},"User":{"properties":{"user_id":{"type":"string","example":"d594d351-1661-4cf2-b542-4e0e4f1ffe4b"},"email":{"type":"string","example":"tim.smith@abc.com"},"first_name":{"type":"string","example":"Tim"},"last_name":{"type":"string","example":"Smith"},"is_super_admin":{"type":"boolean","example":true},"workspaces":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","example":"default"},"role":{"type":"string","description":"user or developer","example":"developer"}}}}}},"InviteUser":{"properties":{"email":{"type":"string","example":"tim.smith@abc.com"},"workspaces":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","example":"default"},"role":{"type":"string","description":"user or developer","example":"developer"}}}},"is_super_admin":{"type":"boolean","example":true}}},"Answer":{"properties":{"answer":{"title":"Answer","type":"string","example":"Sansa"},"context":{"title":"","type":"string","example":"\n====Season 1====\nArya accompanies her father Ned and her sister Sansa to King's Landing. Before their departure, Arya's half-brother Jon Snow gifts Arya a sword which she dubs \"Needle\". On the Kingsroad, Arya is sparring with a butcher's boy, Mycah, when Sansa's betrothed Prince Joffrey Baratheon attacks Mycah, prompting Arya's direwolf Nymeria to bite Joffrey. Arya shoos Nymeria away so she is not killed, but is furious when Sansa later refuses to support her version of events. Mycah is later "},"file":{"type":"object","properties":{"id":{"title":"File ID","type":"string","example":"d594d351-1661-4cf2-b542-4e0e4f1ffe4b"},"name":{"title":"File Name","type":"string","example":"berlin.pdf"}}},"meta":{"additionalProperties":{"type":"string"},"title":"Meta","type":"object"},"offset_end":{"title":"Offset End","type":"integer","example":71},"offset_end_in_doc":{"title":"Offset End In Doc","type":"integer","example":71},"offset_start":{"title":"Offset Start","type":"integer","example":65},"offset_start_in_doc":{"title":"Offset Start In Doc","type":"integer","example":65},"probability":{"title":"Probability","type":"number","example":0.8372742768459336},"question":{"title":"Question","type":"string","example":"Who is Arya's sister?"},"score":{"title":"Score","type":"number","example":13.104684829711914}},"required":["offset_start","offset_end"],"title":"Answer","type":"object"},"Answers":{"properties":{"results":{"items":{"$ref":"#/components/schemas/AnswersToIndividualQuestion"},"title":"Results","type":"array"}},"required":["results"],"title":"Answers","type":"object"},"AnswersToIndividualQuestion":{"properties":{"answers":{"items":{"$ref":"#/components/schemas/Answer"},"title":"Answers","type":"array"},"question":{"title":"Question","type":"string"}},"required":["question","answers"],"title":"AnswersToIndividualQuestion","type":"object"},"TokenRequest":{"properties":{"username":{"title":"Username","type":"string","description":"Email address of the user","example":"tim.smith@abc.com"},"password":{"title":"Password","example":"User Password","description":"Login password","type":"string","format":"password"},"expire_in":{"title":"expire_in","example":3600,"description":"(Optional) Expiry time of token in seconds"}},"required":["username","password"],"title":"TokenRequest","type":"object"},"Reader":{"properties":{"type":{"type":"string","example":"FARMReader"},"description":{"type":"string","example":"FARM Reader"},"is_recommended":{"type":"boolean","example":true},"models":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","example":"deepset/roberta-base-squad2"},"description":{"type":"string","example":"RoBERTa model trained on SQuAD"},"is_recommended":{"type":"boolean","example":true}}}}}},"Readers":{"type":"array","items":{"$ref":"#/components/schemas/Reader"}},"Retrievers":{"type":"array","items":{"$ref":"#/components/schemas/Retriever"}},"Retriever":{"properties":{"retriever":{"type":"object","properties":{"type":{"type":"string","example":"DensePassageRetriever"},"description":{"type":"string","example":"Dense Passage Retrieval"},"is_recommended":{"type":"boolean","example":true},"models":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","example":"deepset/roberta-base-squad2"},"description":{"type":"string","example":"RoBERTa model trained on SQuAD"},"is_recommended":{"type":"boolean","example":true}}}}}}}},"WorkspaceConfig":{"properties":{"reader":{"type":"object","properties":{"type":{"type":"string","example":"FARMReader"},"model":{"type":"object","properties":{"name":{"type":"string","example":"deepset/roberta-base-squad2"},"amp":{"type":"boolean","example":false}}},"top_k":{"example":10,"type":"integer"},"no_ans_boost":{"example":-10},"context_window_size":{"example":500},"doc_stride":{"example":128},"max_seq_len":{"example":256}},"required":["model_name","top_k","no_ans_boost","context_window_size","doc_stride","max_seq_len"]},"retriever":{"type":"object","properties":{"model":{"type":"object","properties":{"name":{"type":"string","example":"deepset/roberta-base-squad2"}}},"top_k":{"example":10,"type":"integer"},"type":{"example":"DensePassageRetrieval","type":"string"}},"required":["top_k","type"]},"file":{"type":"object","properties":{"remove_numeric_tables":{"type":"boolean","example":false},"remove_whitespace":{"type":"boolean","example":false},"remove_empty_lines":{"type":"boolean","example":false},"remove_header_footer":{"type":"boolean","example":false},"metadata_fields":{"type":"object","$ref":"#/components/schemas/Meta"}},"required":["remove_numeric_tables","remove_whitespace","remove_empty_lines","remove_header_footer"]}}},"MetaField":{"type":"object","properties":{"name":{"type":"string","example":"Author"},"type":{"type":"string","example":"string"}}},"MetaValue":{"type":"object","additionalProperties":{"type":"string"},"example":{"author":"Tim Smith","year":"2020"}},"Meta":{"type":"array","items":{"$ref":"#/components/schemas/MetaField"}},"FileUpload":{"properties":{"file":{"format":"binary","title":"File","type":"string","description":"A file in pdf or txt format. Optionally, if working with custom text extraction from an external source like HTML or database, a plain-text string can also be passed here in the file parameter. In such cases, the `file_name` parameter can be used to set a custom name for the uploaded string."},"file_name":{"format":"string","title":"File Name","description":"Override the name of uploaded file or set the file name in case a string is uploaded."},"meta":{"format":"string","title":"Metadata JSON string","description":"Serialized JSON string of key/value(both of type string) pairs that can later be used for filtering in search."},"remove_empty_lines":{"title":"Remove Empty Lines","type":"boolean","description":"Remove multiple blank lines when processing files."},"remove_header_footer":{"title":"Remove Header Footer","type":"boolean","description":"Use heuristics to remove repeating header/footer string in files."},"remove_numeric_tables":{"title":"Remove Numeric Tables","type":"boolean","description":"Use heuristics to remove numeric tabular data from the files."},"remove_whitespace":{"title":"Remove Whitespace","type":"boolean","description":"Strip any additional whitespaces in the files."},"valid_languages":{"items":{"type":"string"},"title":"Valid Languages","type":"array","description":"Validate language of the files to be one from the configured language for the Workspace."}},"required":["file"],"title":"FileUpload","type":"object"},"FilePreview":{"type":"array","items":{"type":"object","properties":{"text":{"type":"string","example":"Sample document text"}}}},"Documents":{"type":"array","items":{"type":"object","properties":{"text":{"type":"string","example":"Sample document text"}}}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"title":"Detail","type":"array"}},"title":"HTTPValidationError","type":"object"},"Search":{"properties":{"questions":{"items":{"type":"string"},"type":"array","example":["Who is Arya's sister?"],"description":"List of questions"},"filters":{"additionalProperties":{"type":"array","items":{"type":"string"}},"type":"object","example":null,"description":"(Optional) Filter files based on tags and their values"},"top_k_reader":{"type":"integer","example":5,"description":"(Optional) Number of top answers from the reader. The Workspace configuration is used if this param is not set."},"top_k_retriever":{"type":"integer","example":5,"description":"(Optional) Number of candidate documents from the retriever. The Workspace configuration is used if this param is not set."}},"required":["questions"],"title":"Search","type":"object"},"File":{"type":"object","properties":{"id":{"type":"string","example":"d594d351-1661-4cf2-b542-4e0e4f1ffe4b"},"url":{"type":"string","example":"http://link-to-download-file"},"name":{"type":"string","example":"Berlin.pdf"},"size":{"title":"Size in Kilobytes","type":"integer","example":16},"characters":{"title":"Number of characters","type":"integer","example":2050},"languages":{"title":"Languages detected in file","type":"array","items":{"type":"string","example":"en"}}}},"ListFiles":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/File"}},"has_more":{"type":"boolean","example":true}}},"FileWarnings":{"type":"array","items":{"type":"object","properties":{"description":{"type":"string","example":"Files with unknown language"},"files":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","example":"d594d351-1661-4cf2-b542-4e0e4f1ffe4b"},"name":{"type":"string","example":"berlin.pdf"}}}}}}},"SignUp":{"properties":{"email":{"title":"Email","type":"string","example":"tim.smith@abc.com"},"first_name":{"title":"First Name","type":"string","example":"Tim"},"last_name":{"title":"Last Name","type":"string","example":"Smith"},"organization_name":{"title":"Organization Name","type":"string","example":null},"password":{"title":"Password","type":"string"}},"required":["first_name","last_name","organization_name","email","password"],"title":"SignUp","type":"object"},"ResetPassword":{"properties":{"new_password":{"type":"string","example":"pswd"},"reset_id":{"type":"string","example":"d594d351-1661-4cf2-b542-4e0e4f1ffe4b"},"reset_key":{"type":"string","example":"kjh4jadKdenF23"}}},"Organization":{"properties":{"name":{"type":"string","example":"deepset"}}},"ValidationError":{"properties":{"loc":{"items":{"type":"string"},"title":"Location","type":"array"},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}},"required":["loc","msg","type"],"title":"ValidationError","type":"object"}},"securitySchemes":{"OAuth2PasswordBearer":{"flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/token"}},"type":"oauth2"}}},"security":[{"OAuth2PasswordBearer":[]}]}